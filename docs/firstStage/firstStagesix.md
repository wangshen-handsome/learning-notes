

# day06

回顾微信滑动门技术：

```
核心技术就是利用CSS精灵（主要是背景位置）和盒子padding撑开宽度, 以便能适应不同字数的导航栏。
结构：
<li><a href=""><span>首页</span></a></li>

a 设置 背景的右侧，padding撑开合适宽度。
span 设置背景左侧， padding撑开合适宽度 剩下由文字继续撑开宽度。
之所以a包含span就是因为 整个导航都是可以点击的。 
```

## CSS 定位

## 学习目标

- 能够说出为什么需要定位
- 能够说出常用3种定位各自的特点
- 能够利用定位属性实现轮播图案例

## 定位的作用

普通文档流中块元素垂直排列，行内元素水平排列。
浮动可以实现多个块级盒子在一行无缝排列显示
定位能够让我们把一个元素从它原本在正常布局流中应该在的位置移动到另一个位置（**一个盒子在它包含块的任意位置移动或者固定在屏幕中的某个位置）**

## 定位的实现

**使用定位需要指定一个元素在文档中的定位模式，配合设置【边偏移量】决定元素最终的显示及位置**

定位模式通过position属性来设置，以下为常用四种定位模式静态定位，相对定位，绝对定位，固定定位

边偏移量定位元素的位置，使用“top”、“right”、“bottom”和“left”来描述。通常水平位置通过left或right控制，垂直位置通过top或bottom控制

- 位置属性

  left：设置距离包含块左侧的距离
  right：设置距离包含块右侧的距离
  top：设置距离包含块顶部的距离
  bottom：设置距离包含块底部的距离

- 取值

  - 长度值：px/em等
  - 百分比：相对于包含块计算
  - auto 默认值
  - 允许使用负值

## 定位模式详解

### position:relative相对定位

相对于元素在正常的文档流中的位置移动它，把一个正常布局流中的元素从它的默认位置按坐标进行相对移动。
它原本所占的空间不会改变。

#### 基础特性

- 不脱离文档流
- 提升元素层级
- 不定义偏移量时对元素基本没有影响

#### 应用场景

通常作为定位父级配合绝对定位使用

### position:absolute绝对定位

没有定位父级时相对于html进行定位，有定位父级时相对于最近的定位父级进行定位

#### 基础特性

- 脱离文档流
- 提升元素层级

#### 应用场景：

通常配合相对定位使用（父相子绝）结合实际案例，如焦点图中的分页，翻页，视频网站中的 vip标签等

### position:fixed 固定定位

元素的位置相对于浏览器窗口是固定位置。即使窗口是滚动的它也不会移动：

#### 基础特性总结

- 脱离文档流
- 提升元素层级

#### 应用场景：

相对于窗口定位的元素如弹窗、跟随滚动的导航、侧边栏

### postion:static静态定位

表示“将元素放在文档布局流的默认位置，HTML 元素的默认值，即没有定位，遵循正常的文档流对象。

- 常用于重置 定位属性
- 静态定位的元素不会受到 top, bottom, left, right影响。

## 定位元素的层级顺序

元素的定位与文档流无关，所以它们可以覆盖页面上的其它元素
z-index属性指定了一个元素的堆叠顺序（哪个元素应该放在前面，或后面）

`<img src="定位的层级图例.jpg" style="zoom:50%;" />`

- 取值
  - auto(默认值) 堆叠顺序与父元素相等
  - 数值：拥有更高堆叠顺序（数值越大）的元素总是会处于堆叠顺序较低的元素的前面。
- 总结
  - 提示：从父原则



## 实现盒子居中的方法

### 方法一：

- 实现思路：margin负值配合百分比

### 方法二：

- 实现思路：left,right,top,bottom并用，配合margin：auto;

  ```
  优点：不用去计算父盒子和子盒子的宽度和高度
  ```

- 注意：ie低版本不兼容 

## 定位对元素的影响

- 相对定位基本不改变元素本身的特性
- 绝对、固定定位
  - 脱离文档流
  - 提升元素层级
  - 未定宽度的块元素适应内容 
  - 使行内元素生成块级框
- 注意：定位并不是一种用来做主要页面布局的方式，主要用于管理和微调页面中的一个特殊项的位置。

## 定位与浮动的区别对比

- 使元素脱离文档流的属性
  - Float:left;  float:right； 
  - position:absolute;  
  - Position:fixed;
- 表现上的区别
  - 浮动元素：
    使用float脱离文档流时，其他盒子会无视这个元素，但其他盒子内的文本、图片、表单标签依然会为这个元素让出位置，环绕在周围。
  - 定位元素：
    使用position脱离文档流的元素，其他盒子完全无视它，包括元素内部的文本、图片、表单标签
  - 总结
    - 不同点：浮动脱离文档流，不脱离文本流，定位元素既脱离文档流，又脱离文本流
    - 相同点：宽高默认由内容撑开，生成块级框（可以设置width和height及所有盒模型属性等）

# CSS 透明

## 学习目标

- 掌握透明常用属性
- 了解透明属性的兼容 
- 能够实现背景透明内容不透明页面效果

### rgba()

- 语法：
  rgba(r,g,b,a)，

- 

  ```
  background:rgba(0,0,0,0.5)
  ```

  说明：r表示red,g表示green,b表示blue,a表示alpha透明度

- 取值:
  r,g,b取值范围 0-255
  a透明度，取值0-1  0完全透明   1完全不透明

- 使用说明：设置颜色的不透明度，
  一般用于调整background-color、color、box-shadow等的不透明度。

- 兼容性：IE6、7、8【不支持】，IE9及以上版本和标准浏览器都支持

### opacity

- 语法：
  opacity:0.5:
- 取值：0-1，
  0表示全透明，1表示全不透明，0-1之间表示半透明
- 使用说明：设置opacity元素的所有后代元素会随着一起具有透明性，
  一般用于调整图片或者模块的整体不透明度
- 兼容性：IE6、7、8【不支持】，IE9及以上版本和标准浏览器都支持

### IE专属滤镜

- 语法： 
  filter:Alpha(opacity=x) 
- 取值：x取值0-100
- 代码演示
- 兼容性：仅支持IE6、7、8、9，在IE10版本被废除
- 注意：在IE6、7、8中，设置了filter:Alpha的元素，其子元素为【相对定位】，可让子元素不透明

# CSS块级格式化

## 学习目标

- 能够说出什么是BFC
- 什么条件下生成BFC
- BFC解决的问题有哪些

## 概念

BFC(Block Formatting Context)是Web页面中盒模型布局的CSS渲染模式——直译为"块级格式化上下文"。它是一个独立的渲染区域，只有Block-level box参与

 它规定了内部的Block-level Box如何布局，并且与这个区域外部毫不相干。

## 生成BFC的条件

- w3c规范中的BFC定义：浮动元素和绝对定位元素，非块级盒子的块级容器（例如 inline-blocks, table-cells, 和 table-captions），以及overflow值不为“visible”的块级盒子，都会为他们的内容创建新的BFC（块级格式上下文）
- 根标签（html）
  float属性不为none
  position为absolute或fixed
  display为inline-block等
  overflow不为visible

## BFC渲染规则（特性）

- 内部的Box会在垂直方向，一个接一个地放置
- Box垂直方向的距离由margin决定。属于同一个BFC的两个相邻Box的margin会发生重叠
- 每个标签的左外边距与包含块（父级的内容区）的左边界相接触(从左向右), 即使浮动标签也如此。
- BFC就是页面上的一个隔离的独立容器，容器里面的子元素不会影响到外面的元素。反之也如此
  - BFC的区域不会与float box重叠。举例overflow:hidden  display:inline-block;
  - 计算BFC的高度时，浮动元素也参与计算，浮动标签可以撑开bfc盒子(设置了浮动或者行内块)的高度，用于清除浮动

## BFC解决的问题

- 清除浮动
- 防止margin重叠
- 避免文字环绕
- 自适应两栏布局或者三栏布局
  - 两栏：左边栏浮动设置固定宽，右边栏不设宽设置overflow:hidden,自动占满父盒子剩余大小
  - 三栏：左边栏设置左浮动，右边栏设置右浮动，中间栏不设置宽度设置overflow:hidden

```
<style type="text/css">
    html,body{
            width: 100%;
            height: 100%;
    }
        .out{
            background: blue;
            width: 100%;
            height: 100%;
        }
        .f{
            float: left;
            margin-right: 20px;
            height: 100%;
            background: red;
        }
        .r{
            overflow: auto;
            height: 100%;
            background: yellow;
        }
    </style>

<div class="out">
    <div class="f">浮动元素</div>
    <div class="r"></div>
</div>
 
```

避免文字环绕

```
<style type="text/css">
        .out{
            width: 200px;
            height: 200px;
            border: 1px solid blue;
        }
        .f{
            width: 50px;
            height: 50px;
            background: red;
            float: left;
        }
        .inner{
            overflow: auto;
        }
    </style>
```

