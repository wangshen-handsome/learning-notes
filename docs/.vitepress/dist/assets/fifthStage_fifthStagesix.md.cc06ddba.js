import{_ as s,o as a,c as n,O as l}from"./chunks/framework.6deb909b.js";const p="/learning-notes/assets/1658804033492.cbeb374e.png",o="/learning-notes/assets/1658820276477.028df361.png",e="/learning-notes/assets/1658826678978.5800cdf2.png",h=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"fifthStage/fifthStagesix.md","filePath":"fifthStage/fifthStagesix.md","lastUpdated":1684891561000}'),t={name:"fifthStage/fifthStagesix.md"},c=l(`<div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">/*</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">*@ course  Behavior及计算属性computed 、分包、基础库版本兼容、骨架屏、发布</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">*@ author 杨亚月</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">*@ time 2022/07/26</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">**/</span></span></code></pre></div><h2 id="一、知识点回顾" tabindex="-1">一、知识点回顾 <a class="header-anchor" href="#一、知识点回顾" aria-label="Permalink to &quot;一、知识点回顾&quot;">​</a></h2><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">暂无</span></span></code></pre></div><h2 id="二、作业讲解" tabindex="-1">二、作业讲解 <a class="header-anchor" href="#二、作业讲解" aria-label="Permalink to &quot;二、作业讲解&quot;">​</a></h2><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">暂无</span></span></code></pre></div><h2 id="三、组件代码特性共享behavior及计算属性computed" tabindex="-1">三、组件代码特性共享Behavior及计算属性computed <a class="header-anchor" href="#三、组件代码特性共享behavior及计算属性computed" aria-label="Permalink to &quot;三、组件代码特性共享Behavior及计算属性computed&quot;">​</a></h2><h3 id="_3-1behavior组件间代码共享特性" tabindex="-1">3.1Behavior组件间代码共享特性 <a class="header-anchor" href="#_3-1behavior组件间代码共享特性" aria-label="Permalink to &quot;3.1Behavior组件间代码共享特性&quot;">​</a></h3><h4 id="_3-1-1介绍" tabindex="-1">3.1.1介绍 <a class="header-anchor" href="#_3-1-1介绍" aria-label="Permalink to &quot;3.1.1介绍&quot;">​</a></h4><p>behavior是用于组件间代码共享的特性,意思就是定义一部分公共代码特性，每个 behavior 可以包含一组属性、数据、生命周期函数和方法。组件引用它时，它的属性、数据和方法会被合并到组件中，生命周期函数也会在对应时机被调用，方便管理与统一修改. 每个组件可以引用多个 behavior ，behavior 也可以引用其它 behavior</p><h3 id="_3-2computed计算属性" tabindex="-1">3.2computed计算属性 <a class="header-anchor" href="#_3-2computed计算属性" aria-label="Permalink to &quot;3.2computed计算属性&quot;">​</a></h3><p>Behavior就是一个行为 computed就是一个Behavior</p><h4 id="_3-2-1概述" tabindex="-1">3.2.1概述 <a class="header-anchor" href="#_3-2-1概述" aria-label="Permalink to &quot;3.2.1概述&quot;">​</a></h4><p>computed是小程序自定义组件扩展 behavior,在小程序组件中，计算属性 computed 和监听器 watch 的实现。在 data 或者 properties 改变时，会重新计算 computed 字段并触发 watch 监听器。目前针对的是component，在页面使用需要引入其他的三方库;</p><h4 id="_3-2-2安装" tabindex="-1">3.2.2安装 <a class="header-anchor" href="#_3-2-2安装" aria-label="Permalink to &quot;3.2.2安装&quot;">​</a></h4><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;">)详情  本地设置   勾选 使用npm模块</span></span>
<span class="line"><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">2</span><span style="color:#A6ACCD;">)生成package</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">json文件    命令：npm init </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">y</span></span>
<span class="line"><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">3</span><span style="color:#A6ACCD;">)下载计算属性的包    包名  miniprogram</span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">computed   命令：npm i miniprogram</span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">computed</span></span>
<span class="line"><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">4</span><span style="color:#A6ACCD;">)菜单栏里  工具 </span><span style="color:#89DDFF;">-&gt;</span><span style="color:#A6ACCD;"> 构建npm</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">引入：</span></span>
<span class="line"><span style="color:#A6ACCD;">在自定义组件的js里</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// 计算属性引入到页面里</span></span>
<span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> mycomputed </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">require</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">miniprogram-computed</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">behavior</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">注册：</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">behaviors</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;">[mycomputed]</span><span style="color:#89DDFF;">,</span></span></code></pre></div><h4 id="_3-2-3computed-基本用法" tabindex="-1">3.2.3computed 基本用法 <a class="header-anchor" href="#_3-2-3computed-基本用法" aria-label="Permalink to &quot;3.2.3computed 基本用法&quot;">​</a></h4><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">在自定义组件的js里</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">如下图：</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">自定义组件的wxml里：</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">view</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">num1:</span><span style="color:#89DDFF;">{{</span><span style="color:#A6ACCD;">num1</span><span style="color:#89DDFF;">}}&lt;/</span><span style="color:#F07178;">view</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">view</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">num2:</span><span style="color:#89DDFF;">{{</span><span style="color:#A6ACCD;">num2</span><span style="color:#89DDFF;">}}&lt;/</span><span style="color:#F07178;">view</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">view</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">sum:</span><span style="color:#89DDFF;">{{</span><span style="color:#A6ACCD;">sum</span><span style="color:#89DDFF;">}}&lt;/</span><span style="color:#F07178;">view</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">button</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">bindtap</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">change</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">change</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">button</span><span style="color:#89DDFF;">&gt;</span></span></code></pre></div><p><img src="`+p+`" alt="1658804033492"></p><h4 id="_3-2-4-购物车案例" tabindex="-1">3.2.4 购物车案例 <a class="header-anchor" href="#_3-2-4-购物车案例" aria-label="Permalink to &quot;3.2.4 购物车案例&quot;">​</a></h4><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">课堂代码   cart页面</span></span></code></pre></div><h2 id="四、工程优化" tabindex="-1">四、工程优化 <a class="header-anchor" href="#四、工程优化" aria-label="Permalink to &quot;四、工程优化&quot;">​</a></h2><p>官网地址：<a href="https://developers.weixin.qq.com/miniprogram/dev/framework/subpackages.html" target="_blank" rel="noreferrer">https://developers.weixin.qq.com/miniprogram/dev/framework/subpackages.html</a></p><h3 id="_4-1分包" tabindex="-1">4.1分包 <a class="header-anchor" href="#_4-1分包" aria-label="Permalink to &quot;4.1分包&quot;">​</a></h3><p>某些情况下，开发者需要将小程序划分成不同的子包，在构建时打包成不同的分包，用户在使用时按需进行加载。每个使用分包小程序必定含有一个主包。所谓的主包，即放置默认启动页面/TabBar 页面，以及一些所有分包都需用到公共资源/JS 脚本；而分包则是根据开发者的配置进行划分。</p><p><strong>优势</strong></p><p>(1)在小程序启动时，默认会下载主包并启动主包内页面，当用户进入分包内某个页面时，客户端会把对应分包下载下来，下载完成后再进行展示。（按需加载） (2)单个分包/主包大小不能超过 2M,整个小程序所有分包大小不超过 20M,能够将工程大小扩充到20M (3)对小程序进行分包，可以优化小程序首次启动的下载时间，以及在多团队共同开发时可以更好的解耦协作。</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><h4 id="_1-1-配置分包结构-重点" tabindex="-1">1.1.配置分包结构 重点 <a class="header-anchor" href="#_1-1-配置分包结构-重点" aria-label="Permalink to &quot;1.1.配置分包结构     重点&quot;">​</a></h4><p>在app.json 里</p><div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">subpackages</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">:</span><span style="color:#89DDFF;">[{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">root</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">packageA</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">   分包的根目录</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">pages</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">            分包下的页面</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">apple/apple</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">banana/banana</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">]</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">},{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">root</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">packageB</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">pages</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">cat/cat</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">dog/dog</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">]</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}]</span><span style="color:#A6ACCD;">,</span></span></code></pre></div><h4 id="_1-2-独立分包" tabindex="-1">1.2.独立分包 <a class="header-anchor" href="#_1-2-独立分包" aria-label="Permalink to &quot;1.2.独立分包&quot;">​</a></h4><p>自己独立起来的包， 不依赖主包</p><p>弊端：不能使用主包里的资源</p><div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">subpackages</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">:</span><span style="color:#89DDFF;">[{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">root</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">packageA</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">pages</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">apple/apple</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">banana/banana</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">]</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">},{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">root</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">packageB</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">pages</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">cat/cat</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">dog/dog</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">],</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">independent</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">true</span><span style="color:#A6ACCD;">   开启独立分包</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}]</span><span style="color:#A6ACCD;">,</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">让谁是独立分包  就给谁加</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">independent</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">: </span><span style="color:#89DDFF;">true</span></span></code></pre></div><h4 id="_1-3-分包预下载" tabindex="-1">1.3.分包预下载 <a class="header-anchor" href="#_1-3-分包预下载" aria-label="Permalink to &quot;1.3.分包预下载&quot;">​</a></h4><p>提前加载出来</p><p>preloadRule 配置 写在app.json 文件里</p><div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">preloadRule</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">:</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">pages/index/index</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:{</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">&quot;</span><span style="color:#FFCB6B;">network</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">all</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">   网络情况  all 所有网络   wifi 仅在wifi下加载</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">&quot;</span><span style="color:#FFCB6B;">packages</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">packageA</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">]</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">pages/logs/logs</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:{</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">&quot;</span><span style="color:#FFCB6B;">network</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">all</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">&quot;</span><span style="color:#FFCB6B;">packages</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">packageB</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">]</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">进入到index页面时   提前加载包A</span></span>
<span class="line"><span style="color:#A6ACCD;">进入到logs页面时    提前加载包B</span></span></code></pre></div><h3 id="_4-2基础库低版本兼容" tabindex="-1">4.2基础库低版本兼容 <a class="header-anchor" href="#_4-2基础库低版本兼容" aria-label="Permalink to &quot;4.2基础库低版本兼容&quot;">​</a></h3><p>小程序的功能不断的增加，但是旧版本的微信客户端并不支持新功能，所以在使用这些新能力的时候需要做兼容。</p><h4 id="_4-2-1api-存在判断" tabindex="-1">4.2.1API 存在判断 <a class="header-anchor" href="#_4-2-1api-存在判断" aria-label="Permalink to &quot;4.2.1API 存在判断&quot;">​</a></h4><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">!</span><span style="color:#A6ACCD;">wx</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">getUserProfile)</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#A6ACCD;">wx</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">showToast</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        title</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">请升级</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">        icon</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">none</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;font-style:italic;">return</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">  wx</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getUserProfile</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">desc</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">获取用户信息</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">  }</span></span></code></pre></div><h4 id="_4-2-2wx-caniuse-是api" tabindex="-1">4.2.2wx.canIUse 是api <a class="header-anchor" href="#_4-2-2wx-caniuse-是api" aria-label="Permalink to &quot;4.2.2wx.canIUse   是api&quot;">​</a></h4><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> res </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> wx</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">canIUse</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">getUserProfile</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#A6ACCD;"> (</span><span style="color:#89DDFF;">!</span><span style="color:#A6ACCD;">res) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#A6ACCD;">wx</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">showToast</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        title</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">请升级</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">        icon</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">none</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;font-style:italic;">return</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">  wx</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getUserProfile</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">desc</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">获取用户信息</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">  }</span></span></code></pre></div><h3 id="_4-3骨架屏使用" tabindex="-1">4.3骨架屏使用 <a class="header-anchor" href="#_4-3骨架屏使用" aria-label="Permalink to &quot;4.3骨架屏使用&quot;">​</a></h3><p>官网地址：<a href="https://developers.weixin.qq.com/miniprogram/dev/devtools/skeleton.html" target="_blank" rel="noreferrer">https://developers.weixin.qq.com/miniprogram/dev/devtools/skeleton.html</a></p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">(1)点击模拟器右下角 “...”  选择生成骨架屏   （作用：生成骨架屏的 wxml 和 wxss文件）</span></span>
<span class="line"><span style="color:#A6ACCD;">(2)在页面的wxml里   引入骨架屏的  wxml文件</span></span>
<span class="line"><span style="color:#A6ACCD;">(3)在页面的wxss里   印入骨架屏的  wxss文件</span></span>
<span class="line"><span style="color:#A6ACCD;">(4)让骨架屏和实际的内容  二选一  出现  定义一个变量  做判断即可</span></span>
<span class="line"><span style="color:#A6ACCD;">(5)过两秒钟  改变变量的值 （在实际开发中  数据获取到时候 就改变变量的值）</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">参考课堂代码的  cart页面</span></span></code></pre></div><p>可在 <code>project.config.json</code> 增加字段 <code>skeletonConfig</code> 进行骨架屏相关配置</p><p>增加的内容</p><p><img src="`+o+`" alt="1658820276477"></p><p>注意:一旦修改了骨架屏配置 需要重新点击三个点 生成骨架屏 才会更新新的 配置</p><h2 id="五、小程序发布" tabindex="-1">五、小程序发布 <a class="header-anchor" href="#五、小程序发布" aria-label="Permalink to &quot;五、小程序发布&quot;">​</a></h2><ul><li><p>调接口写的小程序</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">(1)先登进微信后台  配置服务器域名（域名配置的是  调接口时  用到的服务器地址   必须是https的协议）</span></span>
<span class="line"><span style="color:#A6ACCD;">(2)直接点击 上传   按钮</span></span>
<span class="line"><span style="color:#A6ACCD;">(3)提交审核</span></span>
<span class="line"><span style="color:#A6ACCD;">(4)等待审核通过  在版本管理里  点击提交发布按钮</span></span></code></pre></div><p><img src="`+e+`" alt="1658826678978"></p></li><li><p>云开发写的小程序</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">(1)直接点击 上传   按钮</span></span>
<span class="line"><span style="color:#A6ACCD;">(2)提交审核</span></span>
<span class="line"><span style="color:#A6ACCD;">(3)等待审核通过  在版本管理里  点击提交发布按钮</span></span></code></pre></div></li></ul><h2 id="六、课后作业" tabindex="-1">六、课后作业 <a class="header-anchor" href="#六、课后作业" aria-label="Permalink to &quot;六、课后作业&quot;">​</a></h2><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">(1)当天课上代码至少练习1遍 (云开发上传图片  分包  购物车)</span></span>
<span class="line"><span style="color:#A6ACCD;">(2)结合网络api  继续完善童话故事案例，实现故事详情页</span></span>
<span class="line"><span style="color:#A6ACCD;">(3)在之前作业的基础上，给童话故事项目中的首页、列表页面、详情页面添加骨架屏效果；最后项目发布上线。</span></span></code></pre></div>`,55),r=[c];function D(y,F,i,C,A,u){return a(),n("div",null,r)}const g=s(t,[["render",D]]);export{h as __pageData,g as default};
