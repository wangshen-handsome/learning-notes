import{_ as s,o as a,c as n,O as l}from"./chunks/framework.ae21234a.js";const p="/learning-notes/assets/2-4模块.1888ac3c.png",o="/learning-notes/assets/2-5模块.20706d14.png",e="/learning-notes/assets/2-6模块.00d04ed6.png",t="/learning-notes/assets/image-20220310111806797.e0471739.png",c="/learning-notes/assets/url组成.7e2acd07.png",r="/learning-notes/assets/image-20220310135729669.69943eee.png",y="/learning-notes/assets/image-20220310143838571.cc3ae9e4.png",i="data:image/png;base64,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",D="/learning-notes/assets/image-20220516202757896.4db1eda3.png",F="/learning-notes/assets/image-20210511162109122.658cd171.png",C="/learning-notes/assets/2-10淘宝镜像.1704b267.png",A="/learning-notes/assets/QQ截图20210518232759.7d40be44.jpg",d="/learning-notes/assets/团队开发的问题.f278f786.png",B=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"thirdStage/thirdStagefive.md","filePath":"thirdStage/thirdStagefive.md","lastUpdated":1684891561000}'),m={name:"thirdStage/thirdStagefive.md"},h=l(`<h2 id="回顾" tabindex="-1">回顾 <a class="header-anchor" href="#回顾" aria-label="Permalink to &quot;回顾&quot;">​</a></h2><p>同步和异步</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">同步：函数名中有sync，数据用变量接收</span></span>
<span class="line"><span style="color:#A6ACCD;">	let data = fs.readFileSync( path[,options] )</span></span>
<span class="line"><span style="color:#A6ACCD;">异步：函数名中没有sync，数据在回调函数中</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span></span>
<span class="line"><span style="color:#A6ACCD;">错误处理</span></span>
<span class="line"><span style="color:#A6ACCD;">	同步：try...catch</span></span>
<span class="line"><span style="color:#A6ACCD;">	异步：回调函数的第一个参数就是错误对象</span></span></code></pre></div><p>文件操作</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">读取文件：fs.readFileSync( path[,options] )</span></span>
<span class="line"><span style="color:#A6ACCD;">写入文件：fs.writeFileSync( path,data[,options] )</span></span>
<span class="line"><span style="color:#A6ACCD;">删除文件：fs.unlinkSync( filepath )</span></span>
<span class="line"><span style="color:#A6ACCD;">修改文件名称：fs.renameSync( oldpath, newpath )</span></span>
<span class="line"><span style="color:#A6ACCD;">文件信息：let stat = fs.statSync( path )</span></span></code></pre></div><p>文件夹操作</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">创建文件夹：fs.mkdirSync( path[,options] )</span></span>
<span class="line"><span style="color:#A6ACCD;">删除文件夹：fs.rmdirSync( path[,options] )</span></span>
<span class="line"><span style="color:#A6ACCD;">读取文件夹：fs.readdirSync(path)</span></span></code></pre></div><p>全局变量</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">__dirname：当前文件所在的绝对地址目录</span></span>
<span class="line"><span style="color:#A6ACCD;">__filename：当前文件所在的绝对地址目录（包含文件名称）</span></span></code></pre></div><h2 id="一、模块系统" tabindex="-1">一、模块系统 <a class="header-anchor" href="#一、模块系统" aria-label="Permalink to &quot;一、模块系统&quot;">​</a></h2><h3 id="_1-模块化介绍" tabindex="-1">1. 模块化介绍 <a class="header-anchor" href="#_1-模块化介绍" aria-label="Permalink to &quot;1. 模块化介绍&quot;">​</a></h3><h4 id="传统开发的问题" tabindex="-1">传统开发的问题 <a class="header-anchor" href="#传统开发的问题" aria-label="Permalink to &quot;传统开发的问题&quot;">​</a></h4><p>随着项目的扩大，然后代码就越来越庞大，如果没有很好的规划，后期维护就非常复杂（甚至就维护不了）。</p><p>比如：前端html中有很多特效会依赖文件：如a依赖b，b依赖c</p><p>a.js、b.js、c.js、....</p><div class="language-html"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">script</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">src</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">c.js</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;&lt;</span><span style="color:#A6ACCD;">/scripts&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">&lt;script src=&quot;b.js&quot;&gt;&lt;/scripts&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">&lt;script src=&quot;a.js&quot;&gt;&lt;/scripts&gt;</span></span></code></pre></div><h4 id="传统的解决方式" tabindex="-1">传统的解决方式 <a class="header-anchor" href="#传统的解决方式" aria-label="Permalink to &quot;传统的解决方式&quot;">​</a></h4><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">我们可以用全局命名、也可以用闭包、也可以面向对象封装。这就造成了程序员随心所欲的封装，没有规矩（规范）</span></span></code></pre></div><p>我们node中提出了模块的概念。把公共的函数（代码）进行<strong>模块化</strong>封装（那么一定是有要求的【规范】）。</p><h4 id="模块化的好处" tabindex="-1">模块化的好处 <a class="header-anchor" href="#模块化的好处" aria-label="Permalink to &quot;模块化的好处&quot;">​</a></h4><p>1、有了规范</p><p>2、代码复用高</p><p>3、易维护</p><p><img src="`+p+'" alt=""></p><p><img src="'+o+'" alt=""></p><p><img src="'+e+`" alt=""></p><h3 id="_2-commonjs规范" tabindex="-1">2. Commonjs规范 <a class="header-anchor" href="#_2-commonjs规范" aria-label="Permalink to &quot;2. Commonjs规范&quot;">​</a></h3><p>这个commonjs规范是node中特有的，就是约束node中的模块的。</p><h4 id="commonjs组成" tabindex="-1">commonjs组成 <a class="header-anchor" href="#commonjs组成" aria-label="Permalink to &quot;commonjs组成&quot;">​</a></h4><p>(1)、如何定义数据和功能函数（即如何定义公共代码）</p><p>(2)、外部如何使用定义的数据和功能函数</p><h4 id="定义规范的好处" tabindex="-1">定义规范的好处 <a class="header-anchor" href="#定义规范的好处" aria-label="Permalink to &quot;定义规范的好处&quot;">​</a></h4><p>既然是规范，那么就应该是大家默认都应该遵守的，这样就降低了沟通的成本，极大方便了各个模块之间的相互调用，利于团队协作开发。</p><h3 id="_3-模块的种类" tabindex="-1">3. 模块的种类 <a class="header-anchor" href="#_3-模块的种类" aria-label="Permalink to &quot;3. 模块的种类&quot;">​</a></h3><ul><li>自定义模块：（开发者自己定义的模块，每一个js文件都可以称为一个模块） <ul><li>开发者，使用commonjs规范自己写的js文件，都称为自定义模块</li></ul></li><li>内置模块：（由Node.js官方提供，如：fs、path、querystring等）</li><li>第三方模块：（由第三方开源出来的模块，使用前需要npm工具从npm社区下载） <ul><li>第三方（可以是个人、也可以是一个小团队、也可以是公司）</li></ul></li></ul><h3 id="_4-自定义模块" tabindex="-1">4. 自定义模块 <a class="header-anchor" href="#_4-自定义模块" aria-label="Permalink to &quot;4. 自定义模块&quot;">​</a></h3><h4 id="介绍" tabindex="-1">介绍 <a class="header-anchor" href="#介绍" aria-label="Permalink to &quot;介绍&quot;">​</a></h4><p>开发者，遵守commonjs规范自己写的js文件，都称为自定义模块</p><h4 id="使用步骤" tabindex="-1">使用步骤 <a class="header-anchor" href="#使用步骤" aria-label="Permalink to &quot;使用步骤&quot;">​</a></h4><p>1、创建模块文件</p><p>2、在模块文件定义公共数据</p><p>3、把数据暴露出去</p><ul><li>用<strong>module.exports</strong>或<strong>exports</strong>进行暴露</li></ul><p>4、在某些文件中使用这些数据（引入：<strong>require</strong>）</p><ul><li>注意：自定义模块引入必须以 <strong>.或..</strong> 开头，这是commonjs规定的</li></ul><p>如1：在module_demo文件夹下，创建m1.js模块文件</p><p><strong>使用module.exports暴露</strong></p><p>module.exports它是一个对象，可以给它加属性，也可以给它赋值，暴露出去的是module.exports这个对象。因此有下面两种暴露方式</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// 1、定义数据</span></span>
<span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> uname </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">小赵</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> age </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">3</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> fn </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">我是前端开发</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">};</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// 2、module.exports 暴露数据</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// 暴露方式一</span></span>
<span class="line"><span style="color:#89DDFF;">module.exports.</span><span style="color:#A6ACCD;">uname </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> uname</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">module.exports.</span><span style="color:#A6ACCD;">age </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> age</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">module.exports.</span><span style="color:#A6ACCD;">fn </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> fn</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// 暴露方式二</span></span>
<span class="line"><span style="color:#89DDFF;">module.exports</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  uname</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  age</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  fn</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">};</span></span></code></pre></div><p>在其他的页面引入</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// 接收一个对象</span></span>
<span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> obj </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">require</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./module_demo/m1.js</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(obj)</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// { uname: &#39;小赵&#39;, age: 3, fn: [Function: fn] }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// ----------------------</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// 解构数据</span></span>
<span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> uname</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> age</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> fn </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">require</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./module_demo/m1.js</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(uname</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> age)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#82AAFF;">fn</span><span style="color:#A6ACCD;">()</span><span style="color:#89DDFF;">;</span></span></code></pre></div><p>如2：在module_demo文件夹下，创建m2.js模块文件</p><p><strong>使用exports暴露</strong></p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// 1、定义数据</span></span>
<span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> uname </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">小赵</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> age </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">3</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> fn </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">我是前端开发</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// 2、exports 暴露数据</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// exports就是module.exports的引用，但是默认暴露的是module.exports</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// 只有这一种方式</span></span>
<span class="line"><span style="color:#89DDFF;">exports.</span><span style="color:#A6ACCD;">uname </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> uname</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">exports.</span><span style="color:#A6ACCD;">age </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> age</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">exports.</span><span style="color:#A6ACCD;">fn </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> fn</span><span style="color:#89DDFF;">;</span></span></code></pre></div><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// 解构</span></span>
<span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> uname</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> age</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> fn </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">require</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./module_demo/m2.js</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(uname</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> age)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#82AAFF;">fn</span><span style="color:#A6ACCD;">()</span><span style="color:#89DDFF;">;</span></span></code></pre></div><p><strong>module.exports和exports的区别</strong></p><p>module.exports和exports它们俩指向同一个对象，但是默认暴露的是module.exports，所以可以对module.exports直接赋一个对象，也可以给它添加属性。exports就只能添加属性，如果直接给exports赋一个对象，则会取消它和module.exports的引用关系。</p><p><strong>原生js模拟module.exports 和 exports的区别</strong></p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">fn1</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">module</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{};</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">module.exports</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{};</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">exports</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">module.exports;</span><span style="color:#F07178;"> </span><span style="color:#676E95;font-style:italic;">// module.exports和exports指向同一个对象</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// 给module.exports添加属性</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">module.exports.</span><span style="color:#A6ACCD;">name</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">zs</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">module.exports.</span><span style="color:#A6ACCD;">age</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">3</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">module.exports;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(</span><span style="color:#82AAFF;">fn1</span><span style="color:#A6ACCD;">())</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// {name:&#39;zs&#39;, age: 3}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// -------------------------</span></span>
<span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">fn2</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">module</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{};</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">module.exports</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{};</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">exports</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">module.exports;</span><span style="color:#F07178;"> </span><span style="color:#676E95;font-style:italic;">// module.exports和exports指向同一个对象</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// 给exports添加属性</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">exports.</span><span style="color:#A6ACCD;">name</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">zs</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">exports.</span><span style="color:#A6ACCD;">age</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">3</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">module.exports;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(</span><span style="color:#82AAFF;">fn2</span><span style="color:#A6ACCD;">())</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// {name:&#39;zs&#39;, age: 3}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// ---------------------------</span></span>
<span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">fn3</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">module</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{};</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">module.exports</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{};</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">exports</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">module.exports;</span><span style="color:#F07178;"> </span><span style="color:#676E95;font-style:italic;">// module.exports和exports指向同一个对象</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// 混合添加属性</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">module.exports.</span><span style="color:#A6ACCD;">name</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">zs</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">exports.</span><span style="color:#A6ACCD;">age</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">3</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">module.exports;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(</span><span style="color:#82AAFF;">fn3</span><span style="color:#A6ACCD;">())</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// {name:&#39;zs&#39;, age: 3}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// ----------------------</span></span>
<span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">fn4</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">module</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{};</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">module.exports</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{};</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">exports</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">module.exports;</span><span style="color:#F07178;"> </span><span style="color:#676E95;font-style:italic;">// module.exports和exports指向同一个对象</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// 给module.exports赋一个对象，则会取消和原来exports的引用关系，加给exports的属性不会暴露</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">module.exports</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        name</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">zs</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">};</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">exports.</span><span style="color:#A6ACCD;">age</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">3</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">module.exports;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(</span><span style="color:#82AAFF;">fn4</span><span style="color:#A6ACCD;">())</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// {name:&#39;zs&#39;}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// ------------------</span></span>
<span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">fn5</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">module</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{};</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">module.exports</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{};</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">exports</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">module.exports;</span><span style="color:#F07178;"> </span><span style="color:#676E95;font-style:italic;">// module.exports和exports指向同一个对象</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// 给exports赋一个对象，则会取消和module.exports的引用关系，但是默认返回的还是module.exports</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">exports</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        name</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">zs</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">        age</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">3</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">module.exports;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(</span><span style="color:#82AAFF;">fn5</span><span style="color:#A6ACCD;">())</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// {}</span></span></code></pre></div><p>总结：</p><ul><li>module.exports可以赋对象，也可以改属性。但是一旦赋了对象，则和exports的引用关系就没有了。加给exports的属性也不能暴露出去了。</li><li>exports只能改属性，不能赋对象，因为一赋对象，就切断了和module.exports的引用关系。但是暴露的还是module.exports，所以加给exports的属性不会被暴露出去。</li></ul><p><strong>忠告：这两个以后不要混用。</strong></p><h4 id="nodejs模块私有化原理" tabindex="-1">nodejs模块私有化原理 <a class="header-anchor" href="#nodejs模块私有化原理" aria-label="Permalink to &quot;nodejs模块私有化原理&quot;">​</a></h4><p>node的commonjs规范，把我们js模块都进行私有化了（这样不会污染全局变量），每一个js文件中的代码都套了一层匿名函数</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// a.js引用b.js文件，其实b.js就是一个模块，则b.js文件的外面，套了一个匿名的函数</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// 通过在b.js中打印console.log(arguments.callee.toString())可以看出来</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// arguments.callee表示该arguments属于哪个函数</span></span></code></pre></div><p><img src="`+t+`" alt="image-20220310111806797"></p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">exports</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">require</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">module</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">__filename</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">__dirname</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">arguments</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">callee</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">toString</span><span style="color:#F07178;">())</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">相当于在模块的外面套了一层函数</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">通过这个实验，我们知道为什么有require这个方法，为什么可以exports和module.exports暴露，__filename和__dirname是从哪里来的</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">在模块中写的任何数据，都是属于这个函数的局部变量，外面都是拿不到的，如果你想让外面拿到，只有通过exports或者module.exports暴露</span></span></code></pre></div><p>面试中关于node底层的可能问</p><h4 id="自定义模块练习" tabindex="-1">自定义模块练习 <a class="header-anchor" href="#自定义模块练习" aria-label="Permalink to &quot;自定义模块练习&quot;">​</a></h4><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">定义一个名为trim.js文件</span></span>
<span class="line"><span style="color:#A6ACCD;">暴露一个Trim方法</span></span>
<span class="line"><span style="color:#A6ACCD;">Trim()  // 去除左右空格</span></span>
<span class="line"><span style="color:#A6ACCD;">Trim.left()  // 去除左空格</span></span>
<span class="line"><span style="color:#A6ACCD;">Trim.right()  // 去除右空格</span></span></code></pre></div><p>trim.js模块</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Trim</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">str</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">re</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;"> </span><span style="color:#89DDFF;">/</span><span style="color:#89DDFF;font-style:italic;">^</span><span style="color:#C3E88D;">\\s</span><span style="color:#89DDFF;">+|</span><span style="color:#C3E88D;">\\s</span><span style="color:#89DDFF;">+</span><span style="color:#89DDFF;font-style:italic;">$</span><span style="color:#89DDFF;">/</span><span style="color:#F78C6C;">g</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">str</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">replace</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">re</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;&#39;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">Trim</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">left</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">str</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">re</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;"> </span><span style="color:#89DDFF;">/</span><span style="color:#89DDFF;font-style:italic;">^</span><span style="color:#C3E88D;">\\s</span><span style="color:#89DDFF;">+/</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">str</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">replace</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">re</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;&#39;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">Trim</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">right</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">str</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">re</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;"> </span><span style="color:#89DDFF;">/</span><span style="color:#C3E88D;">\\s</span><span style="color:#89DDFF;">+</span><span style="color:#89DDFF;font-style:italic;">$</span><span style="color:#89DDFF;">/</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">str</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">replace</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">re</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;&#39;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">module.exports</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> Trim</span><span style="color:#89DDFF;">;</span></span></code></pre></div><p>使用模块</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> Trim </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">require</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./module_demo/trim.js</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// console.log(Trim);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> str </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">   abc   </span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">\`</span><span style="color:#C3E88D;">(</span><span style="color:#89DDFF;">\${</span><span style="color:#82AAFF;">Trim</span><span style="color:#A6ACCD;">(str)</span><span style="color:#89DDFF;">}</span><span style="color:#C3E88D;">)</span><span style="color:#89DDFF;">\`</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">\`</span><span style="color:#C3E88D;">(</span><span style="color:#89DDFF;">\${</span><span style="color:#A6ACCD;">Trim</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">left</span><span style="color:#A6ACCD;">(str)</span><span style="color:#89DDFF;">}</span><span style="color:#C3E88D;">)</span><span style="color:#89DDFF;">\`</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">\`</span><span style="color:#C3E88D;">(</span><span style="color:#89DDFF;">\${</span><span style="color:#A6ACCD;">Trim</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">right</span><span style="color:#A6ACCD;">(str)</span><span style="color:#89DDFF;">}</span><span style="color:#C3E88D;">)</span><span style="color:#89DDFF;">\`</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span></code></pre></div><h3 id="_5-内置-核心-模块" tabindex="-1">5. 内置（核心）模块 <a class="header-anchor" href="#_5-内置-核心-模块" aria-label="Permalink to &quot;5. 内置（核心）模块&quot;">​</a></h3><p>fs / url / querystring / path</p><h4 id="url-了解" tabindex="-1">URL( 了解) <a class="header-anchor" href="#url-了解" aria-label="Permalink to &quot;URL( 了解)&quot;">​</a></h4><p>作用：解析网址</p><p>注意：这个模块比较特殊，不需要引入（但需要new实例化，将地址做为参数传进去），类似于全局变量的用法</p><p><img src="`+c+`" alt=""></p><p>代码示例：</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// 作用：解析网址</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// 注意：这个模块比较特殊，不需要引入（但需要new实例化，将地址做为参数传进去），类似于全局变量的用法</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> myurl </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">http://www.ujiuye.com:8080/a/b/c?name=zs&amp;age=3#ab</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> obj </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">URL</span><span style="color:#A6ACCD;">(myurl)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(obj)</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// 返回一个对象，这个对象是对路径的解析</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(obj</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">port)</span><span style="color:#89DDFF;">;</span></span></code></pre></div><p><img src="`+r+`" alt="image-20220310135729669"></p><h4 id="querystring-了解" tabindex="-1">querystring(了解) <a class="header-anchor" href="#querystring-了解" aria-label="Permalink to &quot;querystring(了解)&quot;">​</a></h4><p>作用：操作查询字符串</p><p>类似于JSON.parse() 和 JSON.stringify()，只不过JSON是操作json字符串，它是操作查询字符串</p><p>什么是查询字符串？：&quot;name=zs&amp;age=3&quot;</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> qs </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">require</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">querystring</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// 操作查询了符串，可以将对象转成查询字符串，也可以将查询字符串转成对象</span></span>
<span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> obj </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">zs</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">age</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">3</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">sex</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">man</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// 将对象转成查询字符串</span></span>
<span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> str </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> qs</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">stringify</span><span style="color:#A6ACCD;">(obj)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(str)</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// &#39;name=zs&amp;age=3&amp;sex=man&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// 将查询字符串转成对象</span></span>
<span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> o </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> qs</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">parse</span><span style="color:#A6ACCD;">(str)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(o)</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// { name: &#39;zs&#39;, age: &#39;3&#39;, sex: &#39;man&#39; }</span></span></code></pre></div><h4 id="path-掌握" tabindex="-1">path( 掌握 ) <a class="header-anchor" href="#path-掌握" aria-label="Permalink to &quot;path( 掌握 )&quot;">​</a></h4><p>作用：操作路径（<strong>注意，以后只要用到fs模块，就用path拼接绝对路径</strong>）</p><ul><li>parse：解析路径为对象</li><li>basename：获取路径中的文件名</li><li>extname：获取路径中文件的后缀名</li><li>join：将路径拼接为绝对地址</li></ul><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// 路径</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> filepath </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">a/b/c/d/a.html</span><span style="color:#89DDFF;">&#39;</span></span></code></pre></div><ul><li>path.parse(路径) 解析出一个对象，包含路径、完整文件名、后缀名、不包含后缀的文件名等</li></ul><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// 1、解析路径</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// parse</span></span>
<span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> o </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> path</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">parse</span><span style="color:#A6ACCD;">(filepath)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(o)</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// { root: &#39;&#39;, dir: &#39;a/b/c/d&#39;, base: &#39;a.html&#39;, ext: &#39;.html&#39;, name: &#39;a&#39; }</span></span></code></pre></div><ul><li>path.basename(路径)（返回完整文件名）/ path.extname(路径)（返回后缀名）</li></ul><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// 2、basename返回完整文件名   extname返回后缀名</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(path</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">basename</span><span style="color:#A6ACCD;">(filepath))</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// 完整的文件名称</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(path</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">extname</span><span style="color:#A6ACCD;">(filepath))</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// 文件扩展名称</span></span></code></pre></div><ul><li><p>path.join( 路径的参数列表, ... )</p><p>作用：将参数列表拼成一个路径，正确拼接路径后，还能做到路径的统一（使用频率最多）</p></li></ul><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// 拼接文件路径(最常用，只要用到fs，就要用到path.join())</span></span>
<span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> ab </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> path</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">join</span><span style="color:#A6ACCD;">(__dirname</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./module_demo/m1.js</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(ab)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// let b = __dirname + &#39;\\\\module_demo\\\\m1.js&#39;; // 原来的手动拼接就不用了</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// console.log(b);</span></span></code></pre></div><h3 id="_6-第三方模块" tabindex="-1">6. 第三方模块 <a class="header-anchor" href="#_6-第三方模块" aria-label="Permalink to &quot;6. 第三方模块&quot;">​</a></h3><p>第三方模块又称为<strong>包</strong></p><h4 id="包的使用方法" tabindex="-1">包的使用方法 <a class="header-anchor" href="#包的使用方法" aria-label="Permalink to &quot;包的使用方法&quot;">​</a></h4><p>假如你的业务中需要去除字符串左右空格或处理时间</p><p>这样就没有必要重复去造轮子，而很多现成的公共代码已经封装好了（trim）（time-stamp）（它们都是使用commonjs规范封装的）</p><p><strong>使用步骤</strong></p><p>1、建立你自己的业务代码（创建一个项目文件夹）</p><p>2、在你业务代码下（项目文件夹下）打开cmd，下载第三方模块（包）</p><div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">语法：</span></span>
<span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">install</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">包名</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">如：</span></span>
<span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">install</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">trim</span></span></code></pre></div><p>​ <img src="`+y+'" alt="image-20220310143838571"></p><p>下载完成之后，你的项目根目录下会有一个<code>node_modules</code>文件夹和<code>package-lock.json和package.json</code>文件</p><p>3、在自己的业务文件中引入第三方模块（包）</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> t </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">require</span><span style="color:#A6ACCD;">( 第三方模块名称 )</span></span></code></pre></div><p>4、根据业务写代码</p><p>代码示例：（具体使用方法，要查看npm上的文档）</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> trim </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">require</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">trim</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// 引入trim</span></span>\n<span class="line"></span>\n<span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> str </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">   小飞   </span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>\n<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">(</span><span style="color:#89DDFF;">${</span><span style="color:#82AAFF;">trim</span><span style="color:#A6ACCD;">(str)</span><span style="color:#89DDFF;">}</span><span style="color:#C3E88D;">)</span><span style="color:#89DDFF;">`</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>\n<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">(</span><span style="color:#89DDFF;">${</span><span style="color:#A6ACCD;">trim</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">left</span><span style="color:#A6ACCD;">(str)</span><span style="color:#89DDFF;">}</span><span style="color:#C3E88D;">)</span><span style="color:#89DDFF;">`</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>\n<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">(</span><span style="color:#89DDFF;">${</span><span style="color:#A6ACCD;">trim</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">right</span><span style="color:#A6ACCD;">(str)</span><span style="color:#89DDFF;">}</span><span style="color:#C3E88D;">)</span><span style="color:#89DDFF;">`</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span></code></pre></div><h2 id="二、npm与包" tabindex="-1">二、npm与包 <a class="header-anchor" href="#二、npm与包" aria-label="Permalink to &quot;二、npm与包&quot;">​</a></h2><h3 id="_1-包的概念" tabindex="-1">1. 包的概念 <a class="header-anchor" href="#_1-包的概念" aria-label="Permalink to &quot;1. 包的概念&quot;">​</a></h3><p>**包：**Node.js中的第三方模块又叫做包。就像电脑和计算机指的是同一个事物，第三方模块和包指的是同一个概念，只不过叫法不同。</p><p>**npm：**主要内容分为两块</p><ul><li>(1)、包管理工具</li><li>(2)、npm社区</li></ul><h4 id="包来源" tabindex="-1">包来源 <a class="header-anchor" href="#包来源" aria-label="Permalink to &quot;包来源&quot;">​</a></h4><p>包是由第三方个人或团队开发出来的，免费供给所有开发者使用。</p><p>npm社区：<a href="https://www.npmjs.com" target="_blank" rel="noreferrer">https://www.npmjs.com</a> 只有英文的网站</p><h4 id="包的特点" tabindex="-1">包的特点 <a class="header-anchor" href="#包的特点" aria-label="Permalink to &quot;包的特点&quot;">​</a></h4><ul><li>在Node.js中，如果只用内置模块或者开发者自己定义的模块开发，效率会很低。所以就有了第三方包</li><li>包是基于内置模块( 按照commonjs规范 ) 封装出来的，提供了更高级、更方便的API，极大的提高了开发效率</li><li>包和内置模块之间的关系，类似于jQuery和原生js之间的关系</li><li>要想称为一个包除了遵守模块化规范以外，还要遵守包的一些规范，如：说明文档，协议说明等</li></ul><p><img src="'+i+'" alt="image-20210511160356902"></p><h3 id="_2-包管理工具-npm" tabindex="-1">2. 包管理工具 npm <a class="header-anchor" href="#_2-包管理工具-npm" aria-label="Permalink to &quot;2. 包管理工具 npm&quot;">​</a></h3><h4 id="介绍-1" tabindex="-1">介绍 <a class="header-anchor" href="#介绍-1" aria-label="Permalink to &quot;介绍&quot;">​</a></h4><p>包管理工具指的是安装node环境后，自动安装了的npm工具。全称（Node Package Manager），简称 npm 包管理工具。</p><p>查看安装的npm的版本： <code>npm -v</code></p><p><img src="'+D+'" alt="image-20220516202757896"></p><h4 id="包版本号的介绍" tabindex="-1">包版本号的介绍 <a class="header-anchor" href="#包版本号的介绍" aria-label="Permalink to &quot;包版本号的介绍&quot;">​</a></h4><p>第1位数字：表示大版本号，一般当软件整体重写，或出现不向后兼容的改变时，增加此位，此位是0时表示软件还在开发阶段。</p><p>第2位数字：表示功能更新，出现新功能时增加此位</p><p>第3位数字：表示小修改，如修复bug，只要有修改就增加此位</p><h4 id="第一次安装包后的说明" tabindex="-1">第一次安装包后的说明 <a class="header-anchor" href="#第一次安装包后的说明" aria-label="Permalink to &quot;第一次安装包后的说明&quot;">​</a></h4><ul><li>初次安装包完成以后，在项目文件夹下多一个<strong>node_modules</strong>的文件夹和<strong>package-lock.json</strong>的配置文件</li><li><strong>node_modules</strong>文件夹用来存放所有已安装到项目中的<strong>第三方包</strong>。**require()**导入第三方包时，就是从这个目录中查找并加载</li><li><strong>package-lock.json</strong>配置文件用来记录<strong>node_modules</strong>目录下的每一个包的下载信息，例如包的名字、<strong>版本号</strong>、下载地址等</li><li>开发者不要手动修改node_modules或package-lock.json文件中的任何代码，npm包管理工具会自动维护它们</li></ul><h3 id="_3-包的用法-看手册" tabindex="-1">3.包的用法-看手册 <a class="header-anchor" href="#_3-包的用法-看手册" aria-label="Permalink to &quot;3.包的用法-看手册&quot;">​</a></h3><p>以trim为例：<a href="https://www.npmjs.com/package/trim" target="_blank" rel="noreferrer">https://www.npmjs.com/package/trim</a></p><p><img src="'+F+`" alt="image-20210511162109122"></p><h3 id="_4-npm-常用命令" tabindex="-1">4. npm 常用命令 <a class="header-anchor" href="#_4-npm-常用命令" aria-label="Permalink to &quot;4. npm 常用命令&quot;">​</a></h3><h4 id="init" tabindex="-1">init <a class="header-anchor" href="#init" aria-label="Permalink to &quot;init&quot;">​</a></h4><p>作用：项目初始化</p><div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">init</span><span style="color:#A6ACCD;"> 			</span><span style="color:#C3E88D;">一问一答的形式生成package.json文件</span></span>
<span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">init</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-y</span><span style="color:#A6ACCD;">			</span><span style="color:#C3E88D;">默认配置，直接生成package.json文件（推荐）</span></span></code></pre></div><h4 id="install-i" tabindex="-1">install/i <a class="header-anchor" href="#install-i" aria-label="Permalink to &quot;install/i&quot;">​</a></h4><p>作用：安装包</p><div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">install/i</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">包名</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#FFCB6B;">默认下载最新的版本</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span></span>
<span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">install/i</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">包名@版本号</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#FFCB6B;">下载特定的版本包</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#FFCB6B;">npm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">install</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">trim@1.0.0</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#FFCB6B;">注意：只能保留一个版本</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span></span>
<span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">install/i</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">包名</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-D/--save-dev</span><span style="color:#A6ACCD;">    </span><span style="color:#C3E88D;">安装到开发依赖（devDependencies）</span></span>
<span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">install/i</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">包名</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-S/--save</span><span style="color:#A6ACCD;">		  </span><span style="color:#C3E88D;">安装到项目依赖（dependencies），啥也不加，默认也是安装到项目依赖</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">install/i</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">包名1</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">包名2</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">...</span><span style="color:#A6ACCD;"> 		 </span><span style="color:#C3E88D;">一次安装多个包</span></span>
<span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">install/i</span><span style="color:#A6ACCD;">   					</span><span style="color:#C3E88D;">根据package.json中的记录安装包</span></span></code></pre></div><h4 id="uninstall-r" tabindex="-1">uninstall/r <a class="header-anchor" href="#uninstall-r" aria-label="Permalink to &quot;uninstall/r&quot;">​</a></h4><p>作用：删除包，会把node_modules下的包删除掉，同时package-lock.json中的记录也会删除</p><div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">uninstall/r</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">包名</span></span></code></pre></div><h3 id="_5-npm-淘宝镜像" tabindex="-1">5. npm 淘宝镜像 <a class="header-anchor" href="#_5-npm-淘宝镜像" aria-label="Permalink to &quot;5. npm 淘宝镜像&quot;">​</a></h3><p><img src="`+C+'" alt="2-10淘宝镜像"></p><h4 id="第一种-不推荐" tabindex="-1">第一种（不推荐） <a class="header-anchor" href="#第一种-不推荐" aria-label="Permalink to &quot;第一种（不推荐）&quot;">​</a></h4><p>全局安装cnpm工具（cnpm使用同npm一模一样 ）</p><div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">install</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-g</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">cnpm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--registry=https://registry.npm.taobao.org</span></span></code></pre></div><p>下载的cnpm，下载在以下目录</p><p><img src="'+A+'" alt=""></p><p>注意：</p><p>C:\\Users\\ibm\\AppData\\Roaming\\npm ：此目录下是npm下载的<strong>公共包</strong></p><p>这个目录下的所有的 .cmd文件都是可执行程序，需要在命令行执行。</p><h4 id="第二种-推荐" tabindex="-1">第二种（推荐） <a class="header-anchor" href="#第二种-推荐" aria-label="Permalink to &quot;第二种（推荐）&quot;">​</a></h4><p>配置npm命令的源</p><p>在任意目录下只执行一遍即可</p><div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">config</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">set</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">registry</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">https://registry.npm.taobao.org</span></span></code></pre></div><p><strong>在c/user/用户名</strong>目录下，就会有一个<code>.npmrc</code>文件，它就记录着淘宝镜像地址</p><h3 id="_6-package-json" tabindex="-1">6.package.json <a class="header-anchor" href="#_6-package-json" aria-label="Permalink to &quot;6.package.json&quot;">​</a></h3><p>说明：有无package.json和package-lock.json都不影响程序正常执行。但不能没有node_modules，node_modules是存放我们下载的包的。</p><h4 id="package-json简介" tabindex="-1">package.json简介 <a class="header-anchor" href="#package-json简介" aria-label="Permalink to &quot;package.json简介&quot;">​</a></h4><p>按照规范：在项目根目录中，必须提供一个叫做 package.json 的包管理配置文件。</p><p>可以简称为<strong>项目管家</strong> 。是记录你的npm下载的各个包。</p><h4 id="开发的问题" tabindex="-1">开发的问题 <a class="header-anchor" href="#开发的问题" aria-label="Permalink to &quot;开发的问题&quot;">​</a></h4><p><img src="'+d+`" alt=""></p><h4 id="手动创建package-json" tabindex="-1">手动创建package.json <a class="header-anchor" href="#手动创建package-json" aria-label="Permalink to &quot;手动创建package.json&quot;">​</a></h4><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">1.创建一个package.json文件</span></span>
<span class="line"><span style="color:#A6ACCD;">	注意：此文件不能为空，且必须是json字符串  {}</span></span>
<span class="line"><span style="color:#A6ACCD;">2.在项目当中下载你需要的包，比如：trim和time-stamp</span></span>
<span class="line"><span style="color:#A6ACCD;">	npm工具下载包完成以后，会记录在package.json中的dependencies中</span></span>
<span class="line"><span style="color:#A6ACCD;">3.当你的项目把node_modules删除也没有关系，但是千万别删package.json文件</span></span>
<span class="line"><span style="color:#A6ACCD;">4.当删除了node_modules之后，npm install 时会又根据package.json中的记录，安装你的包</span></span></code></pre></div><p><strong>所以再传给别人项目的时候，是不给node_modules的</strong></p><p><strong>团队开发中是如何给别人代码的？ 通过git 。 所以应该使用.gitignore把 node_modues 给忽略掉。</strong></p><p>package.json完整属性如下表</p><table><thead><tr><th>属性名</th><th>说明</th></tr></thead><tbody><tr><td>name</td><td>包（项目）的名称</td></tr><tr><td>version</td><td>包（项目）的版本号</td></tr><tr><td>description</td><td>包（项目）的描述</td></tr><tr><td>main</td><td>包（项目）入口文件</td></tr><tr><td>scripts(到项目中可以讲到)</td><td>定义快捷脚本命令</td></tr><tr><td>keywords</td><td>项目关键词</td></tr><tr><td>author</td><td>作者</td></tr><tr><td>license</td><td>协议</td></tr><tr><td>dependencies</td><td>包（项目）依赖的模块</td></tr><tr><td>devDependencies ( webpack再说 )</td><td>包（项目）开发依赖的模块</td></tr></tbody></table><h4 id="重要属性" tabindex="-1">重要属性 <a class="header-anchor" href="#重要属性" aria-label="Permalink to &quot;重要属性&quot;">​</a></h4><p><strong>dependencies</strong> 项目依赖</p><div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">以下安装方式，会自动的记录到dependencies属性中</span></span>
<span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">i</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">包名</span></span>
<span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">i</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">包名</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-S</span></span>
<span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">i</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">包名</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--save</span></span></code></pre></div><p><strong>devDependencies</strong> 开发依赖</p><div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">以下安装方式，会自动的记录到devDependencies属性中</span></span>
<span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">i</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">包名</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-D</span></span>
<span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">i</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">包名</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--save-dev</span></span></code></pre></div><h4 id="使用命令创建package-json文件" tabindex="-1">使用命令创建package.json文件 <a class="header-anchor" href="#使用命令创建package-json文件" aria-label="Permalink to &quot;使用命令创建package.json文件&quot;">​</a></h4><div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">init</span><span style="color:#A6ACCD;">  	</span><span style="color:#C3E88D;">:</span><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">一问一答的形式（不推荐）</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">init</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-y</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">:</span><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">默认配置直接生成package.json文件</span></span>
<span class="line"><span style="color:#A6ACCD;">			   </span><span style="color:#FFCB6B;">注意事项：文件夹不要有中文，不要使用第三方模块名称和内置模块的名称定义项目文件夹名</span></span></code></pre></div><h4 id="以后的工作流程-重点" tabindex="-1">以后的工作流程(重点) <a class="header-anchor" href="#以后的工作流程-重点" aria-label="Permalink to &quot;以后的工作流程(重点)&quot;">​</a></h4><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">1、创建项目文件夹（不要有中文）</span></span>
<span class="line"><span style="color:#A6ACCD;">2、npm init -y   (进入到项目根目录，初始化项目，生成项目管家)</span></span>
<span class="line"><span style="color:#A6ACCD;">3、npm i 包名    (安装使用的包)</span></span>
<span class="line"><span style="color:#A6ACCD;">4、写你的业务逻辑</span></span></code></pre></div><h3 id="_7-包的分类" tabindex="-1">7.包的分类 <a class="header-anchor" href="#_7-包的分类" aria-label="Permalink to &quot;7.包的分类&quot;">​</a></h3><h4 id="_1、项目包" tabindex="-1">1、项目包 <a class="header-anchor" href="#_1、项目包" aria-label="Permalink to &quot;1、项目包&quot;">​</a></h4><p>被安装到项目的node_modules文件夹的包，都是项目包。</p><p>项目包又分为两类：</p><p>1）开发依赖包：被记录到devDependencies节点中的包，只在开发期间会用到（只是在写代码的时候用）</p><p>2）项目依赖包：被记录到dependencies节点中的包，在开发期间和项目上线之后都会用到。</p><p>总结：我们的包会很多很多，只记录你自己下载的包即可（但是也不用刻意记，因为常用的就那么几个，而且package.json帮我们记录了）</p><h4 id="_2、全局包" tabindex="-1">2、全局包 <a class="header-anchor" href="#_2、全局包" aria-label="Permalink to &quot;2、全局包&quot;">​</a></h4><p>全局包又称为<strong>工具包</strong>，使用的时候同npm一样，也是在cmd命令行中使用的，并不是在代码文件中引入的，是当作工具使用的。</p><p>安装命令：</p><div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">i</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">包名</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-g</span></span></code></pre></div><p>常用工具包 ： webpack nodemon npm node</p><p>使用特点：</p><p>1）并不是在代码文件中引入的，全局包像npm一样当作可执行程序进行使用</p><p>2）决定某个包是否需要全局安装，需要参考其官方提供的使用说明书</p><p>3）全局包会被安装到C:\\Users\\用户\\AppData\\Roaming\\npm目录下</p><h6 id="全局包案例" tabindex="-1">全局包案例 <a class="header-anchor" href="#全局包案例" aria-label="Permalink to &quot;全局包案例&quot;">​</a></h6><p>markdown工具包</p><p>作用：把 .md 文件转换成 .html文件</p><p>npm地址：<a href="https://www.npmjs.com/package/markdown" target="_blank" rel="noreferrer">https://www.npmjs.com/package/markdown</a></p><div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">i</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">markdown</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-g</span></span></code></pre></div><p>命令行：</p><div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">md2html</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">笔记06.md</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">abc.html</span></span></code></pre></div><h3 id="_8-包加载机制-总结" tabindex="-1">8.包加载机制( 总结 ) <a class="header-anchor" href="#_8-包加载机制-总结" aria-label="Permalink to &quot;8.包加载机制( 总结 )&quot;">​</a></h3><h4 id="_1、内置模块的加载机制" tabindex="-1">1、内置模块的加载机制 <a class="header-anchor" href="#_1、内置模块的加载机制" aria-label="Permalink to &quot;1、内置模块的加载机制&quot;">​</a></h4><p>内置模块是由Node.js官方提供的模块，内置模块的加载优先级最高。</p><p>例如，**require(&#39;fs&#39;) ** 始终返回内置的fs模块，即使在node_modules目录下有名字相同的包也叫做fs，但它也只会引入核心的内置fs模块</p><p>所以第三方模块和自定义模块不要起内置模块的名称</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// let fs = require(&#39;fs&#39;); // 引入内置的模块</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// console.log(fs);</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// 自己写的放在node_modules中，这样虽然可以引到，但不要这样做</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// 引入自己的，但是不要这样做（自定义模块也不要放在node_modules中）</span></span>
<span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> fs </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">require</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./node_modules/fs/index.js</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(fs)</span><span style="color:#89DDFF;">;</span></span></code></pre></div><h4 id="_2、自定义模块加载机制" tabindex="-1">2、自定义模块加载机制 <a class="header-anchor" href="#_2、自定义模块加载机制" aria-label="Permalink to &quot;2、自定义模块加载机制&quot;">​</a></h4><p>1）使用require()加载自定义模块时，必须指定以**./或../**开头的路径标识符。</p><p>2）如果没有指定**./或../<strong>这样的路径标识符，则Node.js会把它当作</strong>内置模块<strong>或</strong>第三方模**块进行加载。</p><p>3）自定义模块不要放在node_modules中。</p><p>4）在使用require()导入自定义模块时，如果省略了文件的扩展名，则Node.js会按顺序分别尝试加载以下的文件：</p><p>​ (1)文件名.js扩展名进行加载</p><p>​ (2)文件名.json扩展名进行加载</p><p>​ (3)如果以上两个都没有，则加载失败，终端报错 <strong>Error:Cannot find module &#39;xxx&#39;</strong></p><h4 id="_3、第三方模块加载机制" tabindex="-1">3、第三方模块加载机制 <a class="header-anchor" href="#_3、第三方模块加载机制" aria-label="Permalink to &quot;3、第三方模块加载机制&quot;">​</a></h4><p>1）如果require()的模块标识符不是内置模块，即没有以‘./’或‘../’开头，则Node.js会从当前模块的父目录开始，尝试从当前文件夹的/node_modules文件夹中加载第三方模块。</p><p>2）如果没有找到对应的第三方模块，则移动到再上一层父目录中，进行加载，直到当前项目文件的盘符根目录。</p><p><strong>总结</strong>：一定要把第三方模块下载到项目根目录下的node_modules中，且项目中只有根目录下有node_modules目录</p><h4 id="_4、package-json中的main属性" tabindex="-1">4、package.json中的main属性 <a class="header-anchor" href="#_4、package-json中的main属性" aria-label="Permalink to &quot;4、package.json中的main属性&quot;">​</a></h4><p>main属性，可以指定模块加载的主入口文件，当引入模块时用文件夹名结尾时生效。有三种加载方式：</p><p>1）根据目录下的package.json的文件，寻找main属性指定的文件名，作为require()加载的入口。</p><p>2）如果目录里没有package.json文件，或者main入口不存在，则Node.js将会加载目录下的index.js文件（所以目录中的默认入口为index.js）</p><p>3）如果以上两步都加载失败，则Node.js会在终端打印错误消息，报告模块缺失：Error: Cannot find module &#39;xxx&#39;</p><p><strong>总结：main属性的作用，指定入口文件，如果没有指定或指定的入口文件不存在，则找index.js文件，如果也没有，则报错</strong></p>`,234),g=[h];function u(E,f,b,k,j,x){return a(),n("div",null,g)}const v=s(m,[["render",u]]);export{B as __pageData,v as default};
