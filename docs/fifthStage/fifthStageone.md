```js
/*
*@ 初识小程序、目录结构、项目配置、场景值、逻辑层、基础语法
*@ 杨亚月
*@ time  2022/07/18
**/
```

## 一、阶段概述

### 1.1课程安排

```
微信小程序+数据可视化 14+1

1-5天   微信小程序
6-7天   1.5天  uni-app框架
8-10天  3.5天  商城项目

11-12天  数据可视化基础（canvas  svg  d3  echarts）
13-14天  数据可视化项目（农业数据实时监控平台）
```

### 1.2项目展示

```js
1.2.1、故事类的项目 （微信小程序基础）
1.2.2、小u商城      （uni-app框架  和 uviewui框架）
1.2.3、农业数据实时监控系统 （echarts图表）
```

### 1.3阶段目标

```js
1.3.1、培养学员能力独立完成小程序原生开发
1.3.2、培养学员能够独立完成使用uni-app多端框架进行宽平台开发，同时掌握与服务端配合工作的能力
1.3.3、培养学员能力独立查看手册，完成自我提升的能力
1.3.4、学员能够掌握数据可视化的原理，能够独立完成数据可视化图表的开发
```

### 1.4学习方法

```js
1.4.1、多练习，每天按时完成作业及课堂代码练习
1.4.2、保存好课堂笔记，多背诵
1.4.3、多参考官方手册
1.4.4、多横向对比，对比vue语法，对比react语法，记忆力更深刻，理解起来更容易
```



## 二、微信开发简介

### 2.1微信开发概述

**概述**

（1）微信开发即微信公众平台开发，将企业信息、服务、活动等内容通过微信网页的方式进行表现，用户通过简单的设置，就能生成微信网站。
（2）通俗的说，就是微信对外提供了例如聊天、支付、分享、收藏等功能，同时还提供了丰富的封装好的接口，开发者利用这些接口和功能，写入程序中，进行的开发。

**目的**

（1）企业开发的需要,使自己更加符合企业发展的需求
（2）个人的发展以及技能的提升
（3）发展前景大、生态系统丰富

**平台**

（1）微信开放平台
（2）微信公众平台

### 2.2微信开放平台（了解====主要后端用）

**概述**

微信开放平台是微信对外提供微信开发接口的一个平台，这些开发出来的微信接口，供第三方的网站或App使用,使用户可将第三方程序的内容发布给好友或分享至朋友圈，第三方内容借助微信平台获得更广泛的传播。

平台地址：https://open.weixin.qq.com/

**微信开放平台提供的能力**

微信分享、 微信支付、 微信登录、微信收藏、微信分享等等

**产品应用**

(1)网站应用开发
(2)移动应用开发
(3)第三方平台开发
(4)公众帐号开发

**只有通过 开发者资质认证后，才能使用开发平台提供的能力**



### 2.3微信公众平台

 官网：mp.weixin.qq.com

#### 2.3.1微信公众平台概述

给用户提供服务的平台！！！！！

#### 2.3.2 账号分类

```
微信小程序（重点）

小程序是一种新的开放能力，开发者可以快速地开发一个小程序。小程序可以在微信内被便捷地获取和传播，同时具有出色的使用体验。

微信小程序，小程序的一种，英文名Wechat Mini Program，是一种不需要下载安装即可使用的应用，它实现了应用“触手可及”的梦想，用户扫一扫或搜一下即可打开应用。


微信服务号
   企业、媒体、政府、其他组织  个人不行

订阅号
	个人、企业、媒体、政府、其他组织都可以开发

企业微信
	类似于钉钉
```



### 2.4开放平台和公众平台的区别

```js
2.4.1、开放平台（了解）
	(1)微信对外开放接口的平台
	(2) 开放的接口,供其他网站及App使用
	(3)后端程序员是开放平台开发的主力军
2.4.2、公众平台（重点）
	(1) 基于微信公众号，为微信用户提供服务的平台
	(2) 所用公众号，都属于微信内开发
	(3) 前端程序员是公众平台开发的主力军
```



## 三、认识小程序

### 3.1小程序概述

```
小程序是一种新的开放能力，开发者可以快速地开发一个小程序。小程序可以在微信内被便捷地获取和传播，同时具有出色的使用体验。

微信小程序，小程序的一种，英文名Wechat Mini Program，是一种不需要下载安装即可使用的应用，它实现了应用“触手可及”的梦想，用户扫一扫或搜一下即可打开应用。
```

### 3.2应用场景

```
一些轻量级的应用, 用户对这些应用  粘性度  不高

各行各业都有：各种扫码、快递类、家政服务、商城类.....

```

### 3.3亮点与不足

```
优点：
	(1)开发简单 （html+css+js） wxml  wxss  js
	(2)微信已经封装好了很多api，直接供开发者使用
	(3)自带流量（XX亿微信用户都可以用微信小程序）
	(4)方便使用，即开即用


缺点：
	(1)代码包默认只有2M，超过之后无法上线，通过分包技术 最大可以把代码包扩展到20M
	(2)无法直接分享到朋友圈

```



## 四、注册小程序账号

### 4.1小程序账号注册流程

#### 4.1.1、选择小程序   （一个邮箱 服务于一个账号类型）

![1658110760277](/public/img/fifthStage/one/1658110760277.png)

![1658110895326](/public/img/fifthStage/one/1658110895326.png)

![1658111011637](/public/img/fifthStage/one/1658111011637.png)



![1658111084775](/public/img/fifthStage/one/1658111084775.png)

### 4.2小程序信息完善

![1658112395078](/public/img/fifthStage/one/1658112395078.png)



## 五、微信开发者工具及工程创建



首先小程序开发不同于普通的网页开发，项目不能运行在浏览器中，所以无法查看编程效果以及调试，微信开发者工具提供了代码的编程能力，调试能力以及展示运行效果能力等强大的功能

### 5.1工具下载安装

```
https://developers.weixin.qq.com/miniprogram/dev/devtools/download.html

```

### 5.2工程创建

```
暂无
```

### 5.3工具常用功能使用

![1658126572860](/public/img/fifthStage/one/1658126572860.png)

```
暂无
```



## 六、工程目录

### 6.1初始化工程目录

![1658128894396](/public/img/fifthStage/one/1658128894396.png)

```
哪些文件是必须的
app.json 必须
app.js   必须（入口文件）
至少有一个页面（.wxml  和  .js） 不能少


```

### 6.2小程序目录结构(重点)

![1658129905652](/public/img/fifthStage/one/1658129905652.png)

```
app.js   小程序的入口文件   相当于vue的main.js
app.json  全局配置文件
app.wxss  全局样式文件 （所有页面都能应用的样式）
project.config.json   配置文件  针对项目的配置文件
sitemap.json  站点地图（设置哪些页面被搜索到）

pages  存放所有页面
util   工具目录（自己封装的js文件）

```

每个页面都有四个文件

```html
pages.wxml: 页面的结构  相当于html

pages.wxss: 页面的样式  相当与css

pages.js:  页面的逻辑

pages.json  页面的配置文件

```

tips:

- 只要提到json文件，就是配置文件
- 在json文件里 不能写单引号
- 在json文件里不允许写注释
- 最后一项不加逗号

## 七、小程序配置

### 7.1全局配置app.json

```json
小程序根目录下的 app.json 文件用来对微信小程序进行全局配置，决定页面文件的路径、窗口表现、设置网络超时时间、设置多 tab 等

  "pages": [   用于创建页面（和文件夹里的页面  一一对应）
    "pages/a/a",
    "pages/b/b",
    "pages/c/c"
  ],

  "entryPagePath": "pages/c/c",    设置默认启动页面（优先级低于自己设置的编译模式）

  "window": {  window 设置导航栏窗口  最顶部的部分
    "navigationBarBackgroundColor": "#0f0",   背景颜色
    "navigationBarTextStyle":"black",         文字颜色
    "navigationBarTitleText": "微信小程序",     标题文字内容
    "navigationStyle":"custom"                是否自定义导航栏  default 默认  custom 自定义
             
    "backgroundColor":"#6699cc",        下拉下来的背景颜色
    "enablePullDownRefresh":true,		开启下拉刷新
    "backgroundTextStyle": "dark"       下拉loading的样式  dark闪烁  light不闪烁   
             
    "onReachBottomDistance":200         上拉触底时  离底部的距离
  }

tabBar设置时 最少2项  最多5项  icon图标的大小不能超过40KB
 "tabBar": {
    "color": "#666",          tab上未选中文字颜色
    "selectedColor": "#f00",   tab上选中文字颜色
    "backgroundColor":"#ccc",  tab的背景
    "borderStyle":"white",     tabbar的上边框
    "position": "bottom",      tabbar的位置  top  bottom
    "custom":false,            是否自定义tabBar
    "list": [{					tabBar的项  2-5个之间 
      "pagePath": "pages/a/a",
      "text": "首页",
      "iconPath": "/img/index.png",
      "selectedIconPath": "/img/index_sel.png"
    },{
      "pagePath": "pages/b/b",
      "text": "购物车",
      "iconPath": "/img/cart.png",
      "selectedIconPath": "/img/cart_sel.png"
    },{
      "pagePath": "pages/c/c",
      "text": "我的",
      "iconPath": "/img/my.png",
      "selectedIconPath": "/img/my_sel.png"
    }]
  }

```

### 7.2页面配置page.json

```json
app.json 中的部分配置，也支持对单个页面进行配置，可以在页面对应的 .json 文件来对本页面的表现进行配置
在页面的json文件里  可以写全局的window里的所有配置

如果配置项一样   页面的配置会覆盖全局的配置

{
    "navigationBarBackgroundColor":"#f00",
    "navigationBarTitleText": "首页"
}

```



## 八、场景值

### 8.1场景值概述

```
暂无
```

### 8.2使用场景

```
暂无
```

### 8.3获取场景值

```
暂无
```

## 九、小程序逻辑层

### 9.1逻辑层概述 

```
暂无
```

### 9.2小程序注册App() 

```
暂无
```

### 9.3页面注册Page()

```
暂无
```

### 9.4模块化

```
暂无
```



## 十、基础语法

### 10.1基础组件

```
<!-- view 相当于 div
     text 相当于 span
-->

```

### 10.2数据渲染

```html
<view wx:for="{{arr}}" bindtap="fn" data-idx="{{index}}">
  {{item}} ===  {{index}}
</view>

item和index 是自带的  直接用

bindtap  绑定点击事件
data-idx="{{index}}"  传递参数



js文件   自定义函数 和data同级   不需要methods
  fn(e){
    console.log(e.currentTarget.dataset.idx)  获取参数
    // 如果要修改data里的值 
    this.setData({
      activeIndex:e.currentTarget.dataset.idx
    })
  },

```

### 10.3基础样式

```
和css一模一样

```



## 十一、课后作业


### 11.1基础作业
(1)当天课上代码至少练习1遍
(2)根据全局配置和页面配置进行页面设置，完成基础作业2动态图效果
(3)简易选项卡，参考基础作业3效果图完成

### 11.2拓展作业
参考拓展作业2动态图效果，完成对应的效果；
参考知识点：
	data属性使用
	列表渲染
	bindtap事件绑定及传参






